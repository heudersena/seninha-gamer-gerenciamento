"use strict";var R=Object.create;var l=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var U=(t,e)=>{for(var s in e)l(t,s,{get:e[s],enumerable:!0})},T=(t,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!O.call(t,r)&&r!==s&&l(t,r,{get:()=>e[r],enumerable:!(o=C(e,r))||o.enumerable});return t};var _=(t,e,s)=>(s=t!=null?R(f(t)):{},T(e||!t||!t.__esModule?l(s,"default",{value:t,enumerable:!0}):s,t)),L=t=>T(l({},"__esModule",{value:!0}),t);var m=(t,e,s)=>new Promise((o,r)=>{var c=a=>{try{n(s.next(a))}catch(i){r(i)}},p=a=>{try{n(s.throw(a))}catch(i){r(i)}},n=a=>a.done?o(a.value):Promise.resolve(a.value).then(c,p);n((s=s.apply(t,e)).next())});var D={};U(D,{AdressesController:()=>d});module.exports=L(D);var E=({error:t=!1,message:e="OPERA\xC7\xC3O EXECUTADA COM SUCESSO.",path:s,data:o,code:r=200})=>({code:r,error:t,message:e.toUpperCase(),path:s.toUpperCase(),data:o});var Y=require("dotenv/config"),b=_(require("mysql2")),v=b.default.createPool({host:process.env.MYSQL_HOST,user:process.env.MYSQL_USER,database:process.env.MYSQL_DATABASE,password:process.env.MYSQL_PASSWORD,waitForConnections:!0,connectionLimit:10,maxIdle:10,idleTimeout:6e4,queueLimit:0,enableKeepAlive:!0,keepAliveInitialDelay:0,charset:"utf8mb4"}),y=v.promise();var g=class{static create(e,s,o,r,c,p,n,a,i,u){return m(this,null,function*(){try{let[S]=yield y.query("INSERT INTO adresses (cep, state, city, neighborhood, street, number, geographic_location, latitude, longitude, establishmentId) VALUES (?,?,?,?,?,?,?,?,?,?)",[e,s,o,r,c,p,n,a,i,u]);return E({path:"ADRESSESENTITIES::CREATE::TRY",data:{createdAdresses:S}})}catch(S){return E({error:!0,code:400,path:"ADRESSESENTITIES::CREATE::CATCH",data:{},message:JSON.stringify(S,null,2)})}})}};var d=class{static create(e,s){return m(this,null,function*(){var o;try{let{cep:r,state:c,city:p,neighborhood:n,street:a,number:i,geographic_location:u,latitude:S,longitude:I}=e.body,h=(o=e.user)==null?void 0:o.establishmentId;console.log(e.body,h);let A=yield g.create(r,c,p,n,a,i,u,S,I,h);return s.status(A.code).json(A)}catch(r){return s.status(400).json(r)}})}};0&&(module.exports={AdressesController});
