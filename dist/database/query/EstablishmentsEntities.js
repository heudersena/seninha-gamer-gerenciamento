"use strict";var d=Object.create;var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var O=(e,r)=>{for(var t in r)i(e,t,{get:r[t],enumerable:!0})},l=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of I(r))!C.call(e,s)&&s!==t&&i(e,s,{get:()=>r[s],enumerable:!(o=g(r,s))||o.enumerable});return e};var b=(e,r,t)=>(t=e!=null?d(M(e)):{},l(r||!e||!e.__esModule?i(t,"default",{value:e,enumerable:!0}):t,e)),h=e=>l(i({},"__esModule",{value:!0}),e);var T=(e,r,t)=>new Promise((o,s)=>{var S=n=>{try{a(t.next(n))}catch(p){s(p)}},c=n=>{try{a(t.throw(n))}catch(p){s(p)}},a=n=>n.done?o(n.value):Promise.resolve(n.value).then(S,c);a((t=t.apply(e,r)).next())});var _={};O(_,{EstablishmentsEntities:()=>E});module.exports=h(_);var m=({error:e=!1,message:r="OPERA\xC7\xC3O EXECUTADA COM SUCESSO.",path:t,data:o,code:s=200})=>({code:s,error:e,message:r.toUpperCase(),path:t.toUpperCase(),data:o});var y=require("dotenv/config"),u=b(require("mysql2")),L=u.default.createPool({host:process.env.MYSQL_HOST,user:process.env.MYSQL_USER,database:process.env.MYSQL_DATABASE,password:process.env.MYSQL_PASSWORD,waitForConnections:!0,connectionLimit:10,maxIdle:10,idleTimeout:6e4,queueLimit:0,enableKeepAlive:!0,keepAliveInitialDelay:0,charset:"utf8mb4"}),A=L.promise();var E=class{static create(r,t,o,s,S,c){return T(this,null,function*(){try{let[a]=yield A.query("INSERT INTO establishments (name, userId, seller_code, number_phone, number_code, description) VALUES (?,?,?,?,?,?)",[r,t,o,s,S,c]);return m({path:"ESTABLISHMENTSENTITIES::CREATE::TRY",data:{createdEstablishement:a}})}catch(a){return m({error:!0,code:400,path:"ESTABLISHMENTSENTITIES::CREATE::CATCH",data:{},message:JSON.stringify(a,null,2)})}})}};0&&(module.exports={EstablishmentsEntities});
